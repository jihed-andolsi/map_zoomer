<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
        <title>PC</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.theme.min.css" rel="stylesheet">
    </head>
    <body>
        <div id="container_map"></div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        <script>
            $(document).ready(function(){
                new Map.Zoomer(0, 0, {transparent: true, autoResize: true}).init({
                    selectorId: "container_map",
                    size: [1366, 768],
                    sizePhone: [window.innerWidth, window.innerHeight],
                    fullSizeShow: false,
                    sprites: [
                        {"name": "background", "url": "./assets/pictures/carte_5.jpg", "x": 0, "y": 0},
                        {"name": "guide", "url": "./assets/pictures/guide.png", "x": 0, "y": 0},
                    ],

                    locations: [
                        {"name": "GAMMARTH", "point":  {x: 399, y: 307}, "position": {x: 0, y: -30}},
                        {"name": "MARSA", "point":  {x: 302, y:  228}, "position": {x: 0, y: -30}},
                        {"name": "SITE ARCHEOLOGUE DE CARTHAGE", "point": {x: 263, y: 150}, "position": {x: 0, y: -40}},
                        {"name": "LE KRAM", "point": {x: 426, y: 105}, "position": {x: 0, y: -30}},
                        {"name": "LA SOUKRA", "point": {x: 615, y: 197}, "position": {x: 0, y: -30}},
                        {"name": "LA GOULETTE", "point": {x: 547, y: 77}, "position": {x: 0, y: -30}},
                        {"name": "RADES", "point": {x: 697, y: 38}, "position": {x: 0, y: -30}},
                        {"name": "LES BERGES DU LAC", "point": {x: 698, y: 110}, "position": {x: 0, y: -30}},
                        {"name": "AEROPORT TUNIS-CARTHAGE", "point": {x: 913, y: 101}, "position": {x: 0, y: -30}},
                        {"name": "TUNIS", "point": {x: 1099, y: 72}, "position": {x: 40, y: 0}},
                        {"name": "MOSQUEE ZITOUNA", "point": {x: 1142, y: 17}, "position": {x: 90, y: 0}},
                        {"name": "EL MENZAH", "point": {x: 1154, y: 132}, "position": {x: 0, y: -30}},
                        {"name": "ARIANA", "point": {x: 1235, y: 188}, "position": {x: 0, y: -30}},
                        {"name": "LE BARDO", "point": {x: 1305, y: 91}, "position": {x: 0, y: -30}},
                        {"name": "MANOUBA", "point": {x: 1573, y: 96}, "position": {x: 0, y: -30}},
                        {"name": "RAOUED", "point": {x: 1029, y: 479}, "position": {x: 0, y: -30}},
                    ],
                    project: {"name": "TunisBay", "coords": [
                                [958.5084872092548, 690],
                                [1031.5084872092548, 671.5],
                                [1304.5084872092546, 680.5],
                                [1398.0084872092546, 740.5],
                                [1423.0084872092546, 774],
                                [1431.5084872092546, 775.5],
                                [1458.0084872092546, 764],
                                [1462.0084872092546, 769.5],
                                [1438.5084872092546, 779.5],
                                [1417.5084872092546, 780],
                                [1407.5084872092546, 781],
                                [1359.5084872092546, 794.5],
                                [1372.0084872092546, 830],
                                [1355.5084872092546, 846.5],
                                [1337.5084872092546, 844.0000000000001],
                                [1326.5084872092546, 854.0000000000001],
                                [1321.5084872092546, 867.5000000000001],
                                [1347.5084872092546, 889.0000000000001],
                                [1319.0084872092546, 905],
                                [1086.5084872092548, 919.5],
                        ]
                    },
                    widthExtent: function(width){
                        return width;
                    },
                    heightExtent: function(height){
                        return height;
                    },
                    widthExtentMaximum: function(width){
                        return width + 420;
                    },
                    heightExtentMaximum: function(height){
                        return height + 160;
                    },
                    initialData: {
                        "k":1,
                        "x":0,
                        "y":0
                    },
                    initialDataMobile: {
                        "k":1,
                        "x":0,
                        "y":0
                    },
                    showGuide: true,
                    defaultColor: 0xd1a9a4,
                    defaultOpacity: .8,
                    showButtonPlans: false,
                    onMouseOverLocation: function(element){
                        // console.log('onMouseOverLocation');

                        $("#container_map canvas").tooltip({
                            track: true,
                            context: function () {
                                return ' ';
                            },
                        }).tooltip("option", "content", element.name).tooltip( "enable" );
                        $('.ui-tooltip').show();
                    },
                    onMouseOutLocation: function(element){
                        // console.log('onMouseOutLocation');
                       $('.ui-tooltip').hide();
                    },
                    onMouseOverBackground: function(elemnt){
                        // console.log('onMouseOverBackground');
                        $('.ui-tooltip').hide();
                    },
                    onMouseOutBackground: function(element){
                        console.log('onMouseOutBackground');
                    }
                }, function(){
                    // console.log("loaded");
                    $("#container_map canvas").addClass('row');
                    $("#container_map canvas").attr('id', 'canvas-container');
                    $("#container_map canvas").css('margin', '0');
                    $("#container_map canvas").attr('title', ' ');
                    $("#container_map canvas").tooltip({
                        track: true,
                        context: function () {
                            return ' ';
                        },
                    });
                    $('.ui-tooltip').hide();
                });
            })
        </script>
    </body>
</html>